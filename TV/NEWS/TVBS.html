<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title id='title'>TVBS | VDTV 線上影音平台</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>

<body>
    <nav class="nav-extended">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">&nbsp;VDTV</a>
            <a href="#" data-target="SideNavigation" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li><a href="/">Home</a></li>
            </ul>
        </div>
    </nav>
    <ul class="sidenav" id="SideNavigation">
        <li><a href="/">Home</a></li>
    </ul>
    <div class="row">    
        <div class="col s12 m9" id="MainContent">
            <br>
            <ul class="tabs">
                <li class="tab"><a href="#yt" class="active" >Watch</a></li>
                <li class="tab"><a href="#about">About</a></li>
            </ul>
            <div id="yt" class="col s12">
                <br>
                <div class="video-container">
                    <iframe id="YT_frame" src="https://www.youtube.com/embed/Hu1FkdAOws0?vq=hd1080&autoplay=1&loop=1" frameborder="0" allowfullscreen></iframe>
                </div>
                <br>
                &copy; Cotpear VDTV
            </div>
            <div id="about" class="col s12">
                <nav>
                    <div class="nav-wrapper">
                        <div class="col s12">
                            <a href="#!" class="breadcrumb">TV</a>
                            <a href="#!" class="breadcrumb">NEWS</a>
                            <a href="#!" class="breadcrumb">TVBS</a>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        <div class="col s12 m3">
            <br>
            <ul class="collapsible">
                <li class='active'>
                    <div class="collapsible-header"><i class="material-icons">live_tv</i>TV</div>
                    <div class="collapsible-body">
                         <div class="collection" id="SideBarNav">
                             <a href="ctitv.html" class="collection-item">中天</a>
                             <a href="TVBS.html" class="collection-item active">TVBS</a>
                             <a href="#!" class="collection-item">Alvin</a>
                             <a href="#!" class="collection-item">Alvin</a>
                         </div>  
                    </div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="material-icons">place</i>Second</div>
                    <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
                <li>
                    <div class="collapsible-header"><i class="material-icons">whatshot</i>Third</div>
                    <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
            </ul>
        </div>
    </div>
    <script>
        jQuery.fn.visible = function() {
            return this.css('visibility', 'visible');
        };
        jQuery.fn.invisible = function() {
            return this.css('visibility', 'hidden');
        };
        $(document).ready(function() {
            $('.tabs').tabs();
            $('.sidenav').sidenav();
            $('.collapsible').collapsible();
            $('#SideBarNav > a').each(function(){
                let that = this
                $(this).click(function(e){
                    e.preventDefault()
                    $('#MainContent').invisible()
                    $('#MainContent').load(that.href.split('/')[that.href.split('/').length-1] + ' #MainContent',function(data){
                        $('#MainContent').html($(data).find('#MainContent').html())
                        //document.title = $(data).find('#title').html()
                        $('#MainContent').visible()
                        $('.tabs').tabs();
                        $('.sidenav').sidenav();
                                        
                    })
                    history.pushState('',{},that.href.split('/')[that.href.split('/').length-1])
                    
                    $('#SideBarNav > a').each(function(){
                        $(this).removeClass('active')
                    })
                    $(this).addClass('active')
                })
            })
        })
    </script>
</body>

</html>
